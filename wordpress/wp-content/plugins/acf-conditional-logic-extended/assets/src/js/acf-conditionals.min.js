(function(e,o){new acf.Model({id:"conditionManager",wait:"ready",events:{"click .add-condition-rule":"onClickAddRule","click .add-condition-group":"onClickAddGroup","click .remove-condition-rule":"onClickRemoveRule","change .refresh-condition-rule":"onChangeRemoveRule","change #acf_field_group-acfcle_conditional_logic_ext_enabled":"onChangeShowHide"},initialize:function(){this.$el=e("#acf-field-group-conditional-logic"),this.onChangeShowHide()},onClickAddRule:function(e,o){this.addRule(o.closest("tr"))},onClickRemoveRule:function(e,o){this.removeRule(o.closest("tr"))},onChangeRemoveRule:function(e,o){this.changeRule(o.closest("tr"))},onClickAddGroup:function(e,o){this.addGroup()},addRule:function(e){acf.duplicate(e)},removeRule:function(e){0==e.siblings("tr").length?e.closest(".rule-group").remove():e.remove()},changeRule:function(o){var i=o.closest(".rule-group"),n=o.find("td.param select").attr("name").replace("[param]",""),a={action:"acf/field_group/render_condition_rule"};a.rule=acf.serialize(o,n),a.rule.id=o.data("id"),a.rule.group=i.data("id"),acf.disable(o.find("td.value")),e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(a),type:"post",dataType:"html",success:function(e){e&&o.replaceWith(e)}})},addGroup:function(){var e=this.$(".rule-group:last");$group2=acf.duplicate(e),$group2.find("h4").text(acf.__("or")),$group2.find("tr").not(":first").remove()},onChangeShowHide:function(){var e=this.$el.find("#acf_field_group-acfcle_conditional_logic_ext_enabled"),o=this.$el.find(".rule-groups");e.prop("checked")?o.show():o.hide()}})})(jQuery);